using UnityEngine;
using UnityEngine.InputSystem;

public class GameInput : MonoBehaviour
{
   
    //contstruct the script class that was autogenerated. 
    private PlayerInputActions playerInputActions; 

    private void Awake()
    {
        //create an object of the type player
        playerInputActions = new PlayerInputActions();
        playerInputActions.Player.Enable(); 

    }
    // Start is called once before the first execution of Update after the MonoBehaviour is created
    public Vector2 GetMovementVector()
    {
        //this reads the vector2 that was made in the Player Action Map and can be used in the script
        Vector2 inputVector = playerInputActions.Player.Move.ReadValue<Vector2>();    
        // Check if the player is pressing any of the WASD keys
       
        /*
         * due the input handing system in unity this isnt needed 
        Vector2 inputVector = new Vector2(0, 0);

        if (Input.GetKey(KeyCode.W))
        {
            inputVector.y = +1;
        }
        if (Input.GetKey(KeyCode.A))
        {
            inputVector.x = -1;
        }
        if (Input.GetKey(KeyCode.S))
        {
            inputVector.y = -1;
        }
        if (Input.GetKey(KeyCode.D))
        {
            inputVector.x = +1;
        }*/
        
        //you can also normalize the code through the PlayerInputAvtions menue
        //normalize the vector to ensure consistent speed
        inputVector = inputVector.normalized;

        return inputVector;
    }
}
